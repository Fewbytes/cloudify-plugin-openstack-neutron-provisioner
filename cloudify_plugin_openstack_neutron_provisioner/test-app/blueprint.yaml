# vim: ts=4 sw=4 et
plugins:
    cloudify.plugins.cloudify_plugin_openstack_neutron_provisioner:
        derived_from: 'cloudify.plugins.remote_plugin'
        properties:
            url: 'https://github.com/Fewbytes/cosmo-plugin-openstack-neutron-provisioner/archive/master.zip'

imports:
    - 'cloudify.types'
    - 'neutron-network-type.yaml'
    - 'neutron-subnet-type.yaml'
    - 'neutron-port-type.yaml'


blueprint:
    name: 'neutron-port-test'
    topology:

        -
            name: 'neutron_port'
            type: 'neutron_port'
            properties:
                port:
                    name: 'neutron_test_port'
            relationships:
                -
                    type: 'cloudify.relationships.contained_in'
                    target: 'neutron_network'
        -
            name: 'neutron_network'
            type: 'neutron_network'
            properties:
                network:
                    name: 'neutron_network_test'

        -
            name: 'neutron_subnet'
            type: 'neutron_subnet'
            relationships:
                -
                    type: 'cloudify.relationships.contained_in'
                    target: 'neutron_network'
            properties:
                subnet:
                    name: 'neutron_subnet_test'
                    ip_version: 4
                    cidr: '10.10.10.0/24'
